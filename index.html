<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="container">
        <h1> Search Pokemon</h1>
        <input type="text" id="search">
        <button onclick="funSearch()">search</button>

    </div>
    <div id="found">

    </div>
   <div id="data">

   </div>
</body>
<script>
    var url = "https://pokeapi.co/api/v2/pokemon"

    function fetchApi() {
        fetch(url).then(response => {
            return response.json();
        }).then(result => {
            localStorage.setItem("pokemon", JSON.stringify(result.results));
        })
    }
    var data = JSON.parse(localStorage.getItem('pokemon')) || [];

    function display(data) {
        document.querySelector("#data").innerHTML = "";
        
        for (var i = 0; i < 20; i++) {
            var para = document.createElement("p");

            para.innerText = data[i].name;
             document.querySelector('#data').append(para)
        }
    };
 
    display(data)
    window.load = fetchApi();
function funSearch(){
    event.preventDefault();
    document.querySelector("#found").innerHTML="";
    var searchPokemon = document.querySelector("#search").value;
    
    fetch(`https://pokeapi.co/api/v2/pokemon/${searchPokemon}`).then(response=>{
        response.json();
    }).then(result=>{
        return result;
        console.log(result);
    })

    // console.log(data);

    // event.preventDefault();

    // var id = document.querySelector("#search").value;
    // console.log(id);
    // var data = document.querySelector("#data").innerHTML = "";
    // for(var i = 0; i < 20; i++){
    //     if(id == data[i].name){
    //        document.querySelector("#data").innerText = id;
    //         break;
    //     }
    // }
    // if(i == 19){
    //     alert("pokemon not found");    
    // }
    
}


</script>

</html>